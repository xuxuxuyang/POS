{"version":3,"file":"index.js","sources":["pages/search/index.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2VhcmNoL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"search-container\">\r\n    <!-- 搜索框 -->\r\n    <view class=\"search-header\">\r\n      <view class=\"search-box\">\r\n        <text class=\"iconfont icon-search\"></text>\r\n        <input\r\n          class=\"search-input\"\r\n          type=\"text\"\r\n          v-model=\"keyword\"\r\n          placeholder=\"搜索POS机型号、品牌\"\r\n          focus\r\n          confirm-type=\"search\"\r\n          @confirm=\"handleSearch\"\r\n        />\r\n        <text class=\"clear-icon\" v-if=\"keyword\" @click=\"clearKeyword\">×</text>\r\n      </view>\r\n      <text class=\"cancel-btn\" @click=\"goBack\">取消</text>\r\n    </view>\r\n\r\n    <!-- 历史搜索 -->\r\n    <view class=\"history-section\" v-if=\"!keyword && historyKeywords.length > 0\">\r\n      <view class=\"section-header\">\r\n        <text class=\"section-title\">历史搜索</text>\r\n        <text class=\"clear-history\" @click=\"clearHistory\">清除</text>\r\n      </view>\r\n      <view class=\"history-tags\">\r\n        <text\r\n          class=\"history-tag\"\r\n          v-for=\"(item, index) in historyKeywords\"\r\n          :key=\"index\"\r\n          @click=\"useHistoryKeyword(item)\"\r\n          >{{ item }}</text\r\n        >\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 热门搜索 -->\r\n    <view class=\"hot-section\" v-if=\"!keyword\">\r\n      <view class=\"section-header\">\r\n        <text class=\"section-title\">热门搜索</text>\r\n      </view>\r\n      <view class=\"hot-tags\">\r\n        <text\r\n          class=\"hot-tag\"\r\n          v-for=\"(item, index) in hotKeywords\"\r\n          :key=\"index\"\r\n          @click=\"useHistoryKeyword(item)\"\r\n          >{{ item }}</text\r\n        >\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 搜索结果 -->\r\n    <view class=\"search-results\" v-if=\"keyword && searching\">\r\n      <view class=\"loading-wrapper\">\r\n        <view class=\"loading-icon\"></view>\r\n        <text class=\"loading-text\">正在搜索...</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 搜索结果列表 -->\r\n    <view\r\n      class=\"search-results\"\r\n      v-else-if=\"keyword && searchResults.length > 0\"\r\n    >\r\n      <view\r\n        class=\"result-item\"\r\n        v-for=\"(item, index) in searchResults\"\r\n        :key=\"index\"\r\n        @click=\"goToProductDetail(item)\"\r\n      >\r\n        <image :src=\"item.image\" mode=\"aspectFill\" class=\"result-image\"></image>\r\n        <view class=\"result-info\">\r\n          <view class=\"result-name\">{{ item.name }}</view>\r\n          <view class=\"result-desc\">{{ item.desc }}</view>\r\n          <view class=\"result-price\">¥{{ item.price }}</view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 无搜索结果 -->\r\n    <view\r\n      class=\"no-result\"\r\n      v-else-if=\"keyword && !searching && searchResults.length === 0\"\r\n    >\r\n      <image\r\n        src=\"https://cdn-icons-png.flaticon.com/128/1548/1548682.png\"\r\n        mode=\"aspectFit\"\r\n        class=\"no-result-image\"\r\n      ></image>\r\n      <text class=\"no-result-text\">没有找到相关POS机产品</text>\r\n      <text class=\"no-result-tip\">可以尝试其他关键词或联系客服</text>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      keyword: \"\",\r\n      searching: false,\r\n      historyKeywords: [],\r\n      hotKeywords: [\r\n        \"智能POS\",\r\n        \"刷卡机\",\r\n        \"银联POS\",\r\n        \"移动POS\",\r\n        \"mPOS\",\r\n        \"扫码支付\",\r\n      ],\r\n      searchResults: [],\r\n    };\r\n  },\r\n  onLoad() {\r\n    // 获取历史搜索记录\r\n    const history = uni.getStorageSync(\"searchHistory\");\r\n    if (history) {\r\n      this.historyKeywords = JSON.parse(history);\r\n    }\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      uni.navigateBack();\r\n    },\r\n    clearKeyword() {\r\n      this.keyword = \"\";\r\n      this.searchResults = [];\r\n    },\r\n    useHistoryKeyword(keyword) {\r\n      this.keyword = keyword;\r\n      this.handleSearch();\r\n    },\r\n    clearHistory() {\r\n      uni.showModal({\r\n        title: \"提示\",\r\n        content: \"确定要清除所有历史记录吗？\",\r\n        success: (res) => {\r\n          if (res.confirm) {\r\n            this.historyKeywords = [];\r\n            uni.removeStorageSync(\"searchHistory\");\r\n          }\r\n        },\r\n      });\r\n    },\r\n    handleSearch() {\r\n      if (!this.keyword.trim()) return;\r\n\r\n      // 将关键词加入历史记录\r\n      if (!this.historyKeywords.includes(this.keyword)) {\r\n        this.historyKeywords.unshift(this.keyword);\r\n        // 限制历史记录数量\r\n        if (this.historyKeywords.length > 10) {\r\n          this.historyKeywords.pop();\r\n        }\r\n        // 保存到本地存储\r\n        uni.setStorageSync(\r\n          \"searchHistory\",\r\n          JSON.stringify(this.historyKeywords)\r\n        );\r\n      }\r\n\r\n      // 开始搜索\r\n      this.searching = true;\r\n      this.searchResults = [];\r\n\r\n      // 模拟搜索过程\r\n      setTimeout(() => {\r\n        this.searching = false;\r\n        // 模拟搜索结果\r\n        if (this.keyword.includes(\"POS\") || this.keyword.includes(\"pos\")) {\r\n          this.searchResults = [\r\n            {\r\n              id: 1,\r\n              name: \"智能POS机A1 Pro\",\r\n              desc: \"全能收款，支持扫码/刷卡/NFC\",\r\n              price: \"1580\",\r\n              image: \"https://cdn-icons-png.flaticon.com/128/9553/9553028.png\",\r\n            },\r\n            {\r\n              id: 2,\r\n              name: \"移动POS机B2 Plus\",\r\n              desc: \"便携式，支持4G网络，续航持久\",\r\n              price: \"980\",\r\n              image: \"https://cdn-icons-png.flaticon.com/128/1546/1546406.png\",\r\n            },\r\n            {\r\n              id: 3,\r\n              name: \"多功能收款机C3\",\r\n              desc: \"触摸屏操作，支持打印小票，高速结算\",\r\n              price: \"2680\",\r\n              image: \"https://cdn-icons-png.flaticon.com/128/2332/2332039.png\",\r\n            },\r\n          ];\r\n        }\r\n      }, 1000);\r\n    },\r\n    goToProductDetail(product) {\r\n      uni.navigateTo({\r\n        url: `/pages/product/detail?id=${product.id}`,\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.search-container {\r\n  background-color: #fff;\r\n  min-height: 100vh;\r\n}\r\n\r\n/* 搜索框样式 */\r\n.search-header {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 20rpx 30rpx;\r\n  background-color: #fff;\r\n  position: relative;\r\n}\r\n\r\n.search-box {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  height: 64rpx;\r\n  background-color: #f5f5f5;\r\n  border-radius: 32rpx;\r\n  padding: 0 20rpx;\r\n}\r\n\r\n.icon-search {\r\n  margin-right: 10rpx;\r\n  color: #999;\r\n}\r\n\r\n.search-input {\r\n  flex: 1;\r\n  height: 64rpx;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.clear-icon {\r\n  width: 40rpx;\r\n  height: 40rpx;\r\n  line-height: 40rpx;\r\n  text-align: center;\r\n  color: #999;\r\n  font-size: 32rpx;\r\n}\r\n\r\n.cancel-btn {\r\n  padding: 0 20rpx;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n}\r\n\r\n/* 历史搜索和热门搜索样式 */\r\n.history-section,\r\n.hot-section {\r\n  padding: 20rpx 30rpx;\r\n}\r\n\r\n.section-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.section-title {\r\n  font-size: 28rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.clear-history {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.history-tags,\r\n.hot-tags {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.history-tag,\r\n.hot-tag {\r\n  background-color: #f5f5f5;\r\n  padding: 10rpx 20rpx;\r\n  margin: 0 20rpx 20rpx 0;\r\n  border-radius: 30rpx;\r\n  font-size: 24rpx;\r\n  color: #666;\r\n}\r\n\r\n.hot-tag {\r\n  background-color: #f0f9ff;\r\n  color: #1296db;\r\n}\r\n\r\n/* 搜索结果样式 */\r\n.loading-wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 60rpx 0;\r\n}\r\n\r\n.loading-icon {\r\n  width: 40rpx;\r\n  height: 40rpx;\r\n  border: 4rpx solid #f3f3f3;\r\n  border-top: 4rpx solid #1296db;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n@keyframes spin {\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.loading-text {\r\n  font-size: 26rpx;\r\n  color: #999;\r\n}\r\n\r\n.result-item {\r\n  display: flex;\r\n  padding: 30rpx;\r\n  border-bottom: 1px solid #f5f5f5;\r\n}\r\n\r\n.result-image {\r\n  width: 160rpx;\r\n  height: 160rpx;\r\n  border-radius: 8rpx;\r\n  margin-right: 20rpx;\r\n}\r\n\r\n.result-info {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n}\r\n\r\n.result-name {\r\n  font-size: 28rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 10rpx;\r\n}\r\n\r\n.result-desc {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  margin-bottom: 10rpx;\r\n}\r\n\r\n.result-price {\r\n  font-size: 32rpx;\r\n  color: #ff6b00;\r\n  font-weight: bold;\r\n}\r\n\r\n/* 无结果样式 */\r\n.no-result {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 100rpx 0;\r\n}\r\n\r\n.no-result-image {\r\n  width: 200rpx;\r\n  height: 200rpx;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.no-result-text {\r\n  font-size: 30rpx;\r\n  color: #333;\r\n  margin-bottom: 10rpx;\r\n}\r\n\r\n.no-result-tip {\r\n  font-size: 26rpx;\r\n  color: #999;\r\n}\r\n\r\n/* 图标字体 */\r\n@font-face {\r\n  font-family: \"iconfont\";\r\n  src: url(\"data:font/woff2;charset=utf-8;base64,d09GMgABAAAAAAO0AAsAAAAACFwAAANlAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHFQGYACDMgqDaIM0ATYCJAMUCwwABCAFhGcHWhtSB8gOJaHAwABgAABgPHzt9/vMzL5qkiaxJNFMJ54JiUQoJEgQStdOJJXOzOH5nHbvz0U1TJNUK+F3R8OqZjwzmqVkIiRC0hBP17z6X9NLmtSZLp7k8rz/g+fS9HNA+YDNpYvSRVEcYBxggO3FKrACCeQN45YXehj7CbQb5yS7VlDcAlbCGBeIa5xiwFpBVinhphZaQ2YWPuFRi576CDzw348f2LAWJHUGxpErF7kVpP+W/u7o6/PSNQ4E/nQWYB1kzAOFuJ5puYZw0Tyg3V98y0VArTaJb2l4kXiZfLn9zT+8IJEVRDMQ94J4M/gtJYZvySvGt7xKfE0JxDc9h66vgTbsowE9gGQxzzRVxPSSjabp7ZbmFJnxSSSbzk3JYfNb1vScvH5mME9NN99tmV3U6rqXpFEkMVuQJMY2LZaEWm+mp6MbM7KKH+t+Lb61sX6jw7rYJCZ/XHxGfFZ4Q2hjdstcgyCUJIm0KJQNoxmLFDY1mZH6OD0RpMORRU7q8SJiZ11OanydUZPZnNGTJoxnbhZhPpb8Psh67Hyo+7Hck4XHLO3J5mD2Z2X7pK/v2yfj+MQGnmJQnIlT1u1Trbs0m2Fmg1+Q1XXuLPSedepkALEAUGz6MpY8u2S4Q+6s7OzF/qnl5bdHRt4d5DYH3o5lL4QDQ12uA+6uA90lXcP7eju9/Tv0VaFfKR3qGdg30Of9L+1u8/eO/Nuw/t2HttZvmPnYLq+XE8qP2v+B+m8yz+7V4LeIFoH/m6XQA+CnvQz9JZvx7f/6xnHg/WQMz3/Ht1b6Bzg/uQYdmzaRZIVRMFokbVPTt7KsXav8o9sQaDfsvk93D5ePsYY0axIkTUYgazaGLNg8qHSYB7Vmi6DdnMrVHQYiRJG0BmY9AIR+hyDp9hSyfseSBf0GlWG/odYfBNpdiJFLO0yGA8UZ0YQCjzwHckZTjdRCKaib4yGbKwoKXQLdCNMZrSdSZRPjNftI73FCCbOmIi6gHKeESbRBaWJKrNCpMD9fmhCJUeaYFzqhAAfOEGkCAY54HJAzNKqR5s6U+vwcJDOukCCRG0t9I5hWw2oTUhonGvPqWoPrrdyIZZRRIVwAORxFgolIA1XTmCLMoKXC+o1LEghxcZG9VF74hvhS2wDtoKMoUeIkwW81sY1JnaSmYm6iNuOURrsJAA==\")\r\n    format(\"woff2\");\r\n}\r\n\r\n.iconfont {\r\n  font-family: \"iconfont\" !important;\r\n  font-size: 16px;\r\n  font-style: normal;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n.icon-search:before {\r\n  content: \"\\e8ef\";\r\n}\r\n</style>\r\n","import MiniProgramPage from 'C:/Users/Administrator/Desktop/wx-pos/pages/search/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAkGA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,SAAS;AAAA,MACT,WAAW;AAAA,MACX,iBAAiB,CAAE;AAAA,MACnB,aAAa;AAAA,QACX;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACD;AAAA,MACD,eAAe,CAAE;AAAA;EAEpB;AAAA,EACD,SAAS;AAEP,UAAM,UAAUA,cAAAA,MAAI,eAAe,eAAe;AAClD,QAAI,SAAS;AACX,WAAK,kBAAkB,KAAK,MAAM,OAAO;AAAA,IAC3C;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACP,SAAS;AACPA,oBAAG,MAAC,aAAY;AAAA,IACjB;AAAA,IACD,eAAe;AACb,WAAK,UAAU;AACf,WAAK,gBAAgB;IACtB;AAAA,IACD,kBAAkB,SAAS;AACzB,WAAK,UAAU;AACf,WAAK,aAAY;AAAA,IAClB;AAAA,IACD,eAAe;AACbA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AACf,iBAAK,kBAAkB;AACvBA,gCAAI,kBAAkB,eAAe;AAAA,UACvC;AAAA,QACD;AAAA,MACH,CAAC;AAAA,IACF;AAAA,IACD,eAAe;AACb,UAAI,CAAC,KAAK,QAAQ,KAAM;AAAE;AAG1B,UAAI,CAAC,KAAK,gBAAgB,SAAS,KAAK,OAAO,GAAG;AAChD,aAAK,gBAAgB,QAAQ,KAAK,OAAO;AAEzC,YAAI,KAAK,gBAAgB,SAAS,IAAI;AACpC,eAAK,gBAAgB;QACvB;AAEAA,sBAAAA,MAAI;AAAA,UACF;AAAA,UACA,KAAK,UAAU,KAAK,eAAe;AAAA;MAEvC;AAGA,WAAK,YAAY;AACjB,WAAK,gBAAgB;AAGrB,iBAAW,MAAM;AACf,aAAK,YAAY;AAEjB,YAAI,KAAK,QAAQ,SAAS,KAAK,KAAK,KAAK,QAAQ,SAAS,KAAK,GAAG;AAChE,eAAK,gBAAgB;AAAA,YACnB;AAAA,cACE,IAAI;AAAA,cACJ,MAAM;AAAA,cACN,MAAM;AAAA,cACN,OAAO;AAAA,cACP,OAAO;AAAA,YACR;AAAA,YACD;AAAA,cACE,IAAI;AAAA,cACJ,MAAM;AAAA,cACN,MAAM;AAAA,cACN,OAAO;AAAA,cACP,OAAO;AAAA,YACR;AAAA,YACD;AAAA,cACE,IAAI;AAAA,cACJ,MAAM;AAAA,cACN,MAAM;AAAA,cACN,OAAO;AAAA,cACP,OAAO;AAAA,YACR;AAAA;QAEL;AAAA,MACD,GAAE,GAAI;AAAA,IACR;AAAA,IACD,kBAAkB,SAAS;AACzBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,4BAA4B,QAAQ,EAAE;AAAA,MAC7C,CAAC;AAAA,IACF;AAAA,EACF;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3MA,GAAG,WAAW,eAAe;"}